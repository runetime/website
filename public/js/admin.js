var Admin=function(){function t(){this.radio=null}return t}(),AdminRadio=function(){function t(){this.live=null,this.timetable=null}return t}(),AdminTimetable=function(){function t(){this.paths={},this.paths={claim:"/staff/radio/timetable"},$("[rt-data='radio.panel.timetable:update.hour']").bind("click",function(t){admin.radio.timetable.claim(t)})}return t.prototype.claim=function(t){var e=$(t.target).attr("rt-data2"),a=e.split(":"),i=a[0],n=e[1],s={day:i,hour:n},r=utilities.PostAJAX(this.paths.claim,s);r.done(function(t){t=$.parseJSON(t),t.valid===!0&&$("[rt-data2='"+t.day+":"+t.hour+"']").html(t.name)})},t}(),AdminLive=function(){function t(){this.elements={},this.paths={},this.elements={song:"[rt-data='radio.panel:current.song']",songName:"[rt-data='radio.panel:current.song.name']",songArtist:"[rt-data='radio.panel:current.song.artist']",currentMessage:"[rt-data='radio.panel:current.message']",requests:"[rt-data='radio.panel:requests']"},this.paths={message:"/staff/radio/live/message",update:"/staff/radio/live/update"},this.update(),$("[rt-data='radio.panel:message.update']").bind("click",function(t){admin.radio.live.updateMessage($(t.target).attr("rt-data2"))})}return t.prototype.update=function(){var t=utilities.getAJAX(this.paths.update);t.done(function(t){t=$.parseJSON(t),$(admin.radio.live.elements.songName).html(t.song.name),$(admin.radio.live.elements.songArtist).html(t.song.artist),$(admin.radio.live.elements.currentMessage).html(t.song.message)}),setTimeout(function(){admin.radio.live.update()},3e4)},t.prototype.updateMessage=function(t){var e={id:t},a=utilities.postAJAX(this.paths.message,e);a.done(function(t){t=$.parseJSON(t),$(admin.radio.live.elements.currentMessage).html(t.message)})},t}(),admin=new Admin;