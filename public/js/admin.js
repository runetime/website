var Admin=function(){function a(){this.radio=null}return a}(),AdminRadio=function(){function a(){this.live=null,this.timetable=null}return a}(),AdminTimetable=function(){function a(){this.paths={},this.paths={claim:"/staff/radio/timetable"},$("[rt-data='radio.panel.timetable:update.hour']").bind("click",function(a){admin.radio.timetable.claim(a)})}return a.prototype.claim=function(a){alert(1);var b=$(a.target).attr("rt-data2"),c=b.split(":"),d=c[0],e=b[1],f={day:d,hour:e},g=utilities.PostAJAX(this.paths.claim,f);g.done(function(a){a=$.parseJSON(a),a.valid===!0&&$("[rt-data2='"+a.day+":"+a.hour+"']").html(a.name)})},a}(),AdminLive=function(){function a(){this.elements={},this.paths={},this.elements={song:"[rt-data='radio.panel:current.song']",songName:"[rt-data='radio.panel:current.song.name']",songArtist:"[rt-data='radio.panel:current.song.artist']",currentMessage:"[rt-data='radio.panel:current.message']",requests:"[rt-data='radio.panel:requests']"},this.paths={message:"/staff/radio/live/message",update:"/staff/radio/live/update"},this.update(),$("[rt-data='radio.panel:message.update']").bind("click",function(a){admin.radio.live.updateMessage($(a.target).attr("rt-data2"))})}return a.prototype.update=function(){var a=utilities.getAJAX(this.paths.update);a.done(function(a){a=$.parseJSON(a),$(admin.radio.live.elements.songName).html(a.song.name),$(admin.radio.live.elements.songArtist).html(a.song.artist),$(admin.radio.live.elements.currentMessage).html(a.song.message)}),setTimeout(function(){admin.radio.live.update()},3e4)},a.prototype.updateMessage=function(a){var b={id:a},c=utilities.postAJAX(this.paths.message,b);c.done(function(a){a=$.parseJSON(a),$(admin.radio.live.elements.currentMessage).html(a.message)})},a}(),admin=new Admin;